# üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ê–í–¢–û–†–ò–ó–ê–¶–ò–ò 3GIS

## üö® –ü—Ä–æ–±–ª–µ–º—ã –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ—à–∞–µ–º:

### 1. ‚ùå `No Telegram initData available`
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ initData –≤ SDK v3.x

### 2. ‚ùå `JWT_SECRET –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω`  
**–ü—Ä–∏—á–∏–Ω–∞:** –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ Vercel

## ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:

### 1. –û–±–Ω–æ–≤–ª–µ–Ω `use-telegram-auth.ts`:
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω —É—Å—Ç–∞—Ä–µ–≤—à–∏–π SDK v3.x API –Ω–∞ –Ω–∞—Ç–∏–≤–Ω—ã–π Telegram WebApp API
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –º–æ–∫-–¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–µ–∂–∏–º–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è initData

### 2. –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `auth.ts`:
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö JWT_SECRET
- ‚úÖ –û—Ç–ª–∞–¥–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:

### 1. –î–æ–±–∞–≤–∏—Ç—å JWT_SECRET –≤ Vercel:
```bash
# –í Vercel Dashboard -> Settings -> Environment Variables
JWT_SECRET = "3gis_super_secret_jwt_key_2025_production_ready"
```

### 2. –î–µ–ø–ª–æ–π –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
```bash
git add .
git commit -m "üîê Fix Telegram auth + add JWT_SECRET logging"
git push origin main
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ Telegram:
- –û—Ç–∫—Ä—ã—Ç—å @ThreeGIS_bot
- –ö–ª–∏–∫–Ω—É—Ç—å "–û—Ç–∫—Ä—ã—Ç—å 3GIS"
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç

## üîë –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è Vercel:

```
JWT_SECRET = "3gis_super_secret_jwt_key_2025_production_ready"
SKIP_TELEGRAM_VALIDATION = "false"  // –í production –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å false
```

## üß™ –ß—Ç–æ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ—Å–ª–µ —Ñ–∏–∫—Å–∞:

### ‚úÖ –í development:
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –º–æ–∫-–¥–∞–Ω–Ω—ã–µ –∫–æ–≥–¥–∞ –Ω–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ initData
- JWT_SECRET –±–µ—Ä–µ—Ç—Å—è –∏–∑ .env —Ñ–∞–π–ª–∞
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏ Telegram

### ‚úÖ –í production:
- –†–µ–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è Telegram initData  
- JWT_SECRET –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö Vercel
- –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

**–í–º–µ—Å—Ç–æ –æ—à–∏–±–∫–∏:** `No Telegram initData available`
**–ü–æ–ª—É—á–∏–º:** –£—Å–ø–µ—à–Ω—É—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é —Å –ª–æ–≥–∞–º–∏:
```
‚úÖ Telegram WebApp initData –ø–æ–ª—É—á–µ–Ω
üöÄ –ù–∞—á–∏–Ω–∞–µ–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é —Å initData
‚úÖ Telegram authentication successful  
‚úÖ –ù–æ–≤–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ
```

**–°—Ç–∞—Ç—É—Å: –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é!** üöÄ
